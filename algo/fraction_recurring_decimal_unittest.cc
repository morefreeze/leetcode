#include <gtest/gtest.h>
#include "fraction_recurring_decimal.cpp"

class FractionRecurringDecimalTest: public testing::Test{
    protected:
        Solution sol;
};
TEST_F(FractionRecurringDecimalTest, Integer){
    EXPECT_EQ("2", sol.fractionToDecimal(2147483646,1073741823));
    EXPECT_EQ("2", sol.fractionToDecimal(-2147483646,-1073741823));
    EXPECT_EQ("2", sol.fractionToDecimal(2,1));
    EXPECT_EQ("-2", sol.fractionToDecimal(-2,1));
    EXPECT_EQ("7", sol.fractionToDecimal(49,7));
    EXPECT_EQ("-7", sol.fractionToDecimal(49,-7));
}
TEST_F(FractionRecurringDecimalTest, Small){
    EXPECT_EQ("0.5", sol.fractionToDecimal(1,2));
    EXPECT_EQ("0.5", sol.fractionToDecimal(1073741823,2147483646));
    EXPECT_EQ("0.5", sol.fractionToDecimal(-1073741823,-2147483646));
    EXPECT_EQ("0.75", sol.fractionToDecimal(75,100));
    EXPECT_EQ("-0.75", sol.fractionToDecimal(-75,100));
    EXPECT_EQ("1.32", sol.fractionToDecimal(33,25));
    EXPECT_EQ("-1.32", sol.fractionToDecimal(33,-25));
}
TEST_F(FractionRecurringDecimalTest, Cycle){
    EXPECT_EQ("0.1(6)", sol.fractionToDecimal(-1,-6));
    EXPECT_EQ("0.(6)", sol.fractionToDecimal(2,3));
    EXPECT_EQ("-0.(6)", sol.fractionToDecimal(-2,3));
    EXPECT_EQ("0.(142857)", sol.fractionToDecimal(1,7));
    EXPECT_EQ("-0.(142857)", sol.fractionToDecimal(1,-7));
    EXPECT_EQ("0.00(000000465661289042462740251655654056577585848337359161441621040707904997124914069194026549138227660723878669455195477065427143370461252966751355553982241280310754777158628319049732085502639731402098131932683780538602845887105337854867197032523144157689601770377165713821223802198558308923834223016478952081795603341592860749337303449725)", sol.fractionToDecimal(1, 214748364));
    EXPECT_EQ("87.(996990302084494482220488239884070895106454129974361832571619663359714636049492810166090736818637833017500836027198751532716531044476646973581540519451566157618994537955634823319585330509419239772600601939583101103555902352023185820978709174005127633485676067328057072790101437966781852636272433396499832794560249693456693791104670605283691896109686768476201092408873035336082933898116152045479879612083379779288819529595362835804258165198974473302864786534388585441979712406643629472745513320700033441087950061308661241779065878943261620778062646304759781518225392932783413220376769590904024077583324044142236094080927432839148366960205105339427042693122282911604057518671274105450897335859993311782409987738267751644186824211347675844387470739048043696354921413443317355924646081819195184483335191171552781183814513432170326607958978932114591461375543417679188496265745178909820532828001337643518002452346449671162635157730464831122505852190391260729015717311336528815070783636160963103332961765689443763237097313565934678408204213577081707724891316464162300746850964218035893434399732471296399509530710065767472968453907033775498829561921747854196856537732694236985843272767807379333407646862111247352580537286813064318359157284583658455021736707167539850629807156392821313120053505740720098093857986846505406309218593244900234087615650429160628692453461152602831345446438524133318470627577750529483892542637387136328168543083268308995652658566492029874038568721435737375989298851855980381228402630698918738156281351019953182476869914167874261509307769479433730910712295173336305874484449894103221491472522572734366291383346338200869468286701594025192286255712852524802140229628803923754319473860216252368743729796009363504626017166425147698138446104113253817857540965332738825103110021179355701705495485453126741723330732359826106342659681194961542748857429495039571954074239215249136105227956749526251254040798127299074796566714970460372310779177349236428491806933452234979377995764128859658900902909374651655333853528034778731468063761007691450228514100992085609185152156950172778954408650094749749191840374540185040686657005907925537844164530152714301638613309553004124400847174228068219819418125069668933229294393044253706387247798461709954297179801582878162969568609965444209118269981050050161631925091962991862668598818414892431167093969457139672277338089399175119830565154386356036116374986066213354141121391149258722550440307658009140564039683424367406086278006911158176346003789989967673614981607401627466280236317021513766581206108572065544532382120164976033886969122728792776725002786757329171775721770148255489911938468398171887192063315126518782744398617768364730799242002006465277003678519674506743952736595697246683758778285586891093523575967004793222606175454241444654999442648534165644855645970348902017612306320365622561587336974696243451120276446327053840151599598706944599264296065098651209452680860550663248244342882621781295284806599041355478764909151711069000111470293166871028870805930219596477538735926875487682532605060751309775944710734589231969680080258611080147140786980269758109463827889867350351131423475643740943038680191728904247018169657786199977705941366625794225838813956080704492252814624902463493478987849738044811057853082153606063983948277783970571842603946048378107234422026529929773715304871251811392263961654219150596366068442760004458811726674841154832237208783859101549437075019507301304202430052391037788429383569278787203210344443205885631479210790324378553115594694014045256939025749637721547207669156169880726786311447999108237654665031769033552558243228179690112584996098539739159513989521792442314123286144242559357931111358822873704157841935124289376881061197190948612194850072455690558466168766023854642737710400178352469066993646193289488351354364061977483000780292052168097202095641511537175342771151488128413777728235425259168431612975142124623787760561810277561029985508861888306766246795229071452457919964329506186601270761342102329729127187604503399843941589566380559580871697692564931445769702374317244454352914948166313677404971575075242447887637944487794002898227622338646750640954185709508416007134098762679745847731579534054174562479099320031211682086723888083825660461487013710846059525136551109129417010366737264519005684984951510422472411102441199420354475532270649871809162858098316798573180247464050830453684093189165087504180135993757663582655222383234867907702597257830788094972689778174116597926652547096198863003009697915505517779511760115929104893545870025638167428380336640285363950507189833909263181362166982499163972801248467283468955523353026418459480548433842381005462044365176680414669490580760227399398060416898896444097647976814179021290825994872366514323932671942927209898562033218147363727566603500167205439750306543306208895329394716308103890313231523798907591126964663917066101883847954520120387916620220711180470404637164195741834801025526697135213465611414558020287593356370527254486679299966558912049938691338758220934121056738379221937353695240218481774607067216586779623230409095975922416675955857763905919072567160851633039794894660572957306877717088395942481328725894549102664140006688217590012261732248355813175788652324155612529260951956303645078586556682644075353918180804815516664808828447218816185486567829673392041021067885408538624456582320811503734254821090179467171998662356481997547653550328837364842269535168877494147809608739270984282688663471184929216363839036896667038234310556236762902686434065321591795786422918292275108683535837699253149035781964106565600267528703600490469289934232527031546092966224501170438078252145803143462267305763014156727232192620666592353137888752647419462713186935681640842715416341544978263292832460149370192843607178686879946494259279901906142013153494593690781406755099765912384349570839371307546538847397168654553561475866681529372422249470516107457362612863671831456916731691004347341433507970125961431278564262624010701148144019618771597369301081261843718648980046817523130085832125738490692230520566269089287704826663694125515550105896778508527477427265633708616653661799130531713298405974807713744287147475197859770371196076245680526139783747631256270203990636495373982833574852301861553895886746182142459034667261174896889978820644298294504514546873258276669267640173893657340318805038457251142570504960428045925760784750863894772043250473748745959201872700925203433285029539627689220822650763571508193066547765020622004235871140341099097090625348344666146471965221268531936238992308549771485899007914390814847843049827221045591349905250250808159625459814959313342994092074462155835469847285698361386690446995875599152825771931780180581874930331066770705606955746293612752201538290045702820198417121837030431390034555790881730018949949838368074908037008137331401181585107568832906030542860327722661910600824880169434845613643963883625013933786645858878608850741277449559692341990859435960316575632593913721993088841823653996210010032326385018392598372533719763682978486233418793891427934455467617879835023966113030877271207223274997213242670828224278229851744510088061531601828112807936684873481217255601382231635269200757997993534722996321480325493256047263404302753316241221714413108906476424032995206777393824545758555345000557351465834355144354029651097982387693679634377438412663025303756548879723553672946159848400401293055400735703934901348790547319139449336751755657117378218704715193400958644521235090848288930999888529706833128971129194069780403522461264073124512317467394939248690224055289265410768030319919741388919852859213019730241890536172110132649648868576524356259056961319808271095752981830342213800022294058633374205774161186043919295507747185375097536506521012150261955188942146917846393936016051722216029428157396053951621892765577973470070226284695128748188607736038345780849403633931557239995541188273325158845167762791216140898450562924980492698695797569947608962211570616430721212796789655556794114368520789209675621446884405305985954743060974250362278452792330843830119273213688552000891762345334968230966447441756771820309887415003901460260840486010478207557685876713855757440642068888641177126295842158064875710623118938802809051387805149927544309441533831233976145357262289599821647530933006353806710511648645635938022516999219707947831902797904358488462824657228848511871586222271764574740831568387024857875376212239438189722438970014491138111693233753204770928547542080035670493813398729238657897670270872812395496600156058410433619440419128302307435068554230297625682755545647085051833686322595028424924757552112362055512205997101772377661353249359045814290491583992865901237320254152268420465945825437520900679968788317913276111916174339538512986289153940474863448890870582989633262735480994315015048489577527588897558800579645524467729350128190837141901683201426819752535949169546315906810834912495819864006242336417344777616765132092297402742169211905027310221825883402073347452903801136)", sol.fractionToDecimal(789421,8971));
}
TEST_F(FractionRecurringDecimalTest, Overflow){
    EXPECT_EQ("-2147483648", sol.fractionToDecimal(-2147483648,1));
    EXPECT_EQ("2", sol.fractionToDecimal(-2147483648,-1073741824));
    EXPECT_EQ("-2", sol.fractionToDecimal(-2147483648,1073741824));
    EXPECT_EQ("-23598721.(406593)", sol.fractionToDecimal(-2147483648,91));
    EXPECT_EQ("512", sol.fractionToDecimal(-2147483648,-4194304));
    EXPECT_EQ("-0.0000000004656612873077392578125", sol.fractionToDecimal(1,-2147483648));
    EXPECT_EQ("0.001953125", sol.fractionToDecimal(-4194304,-2147483648));
}
